@{
    ViewData["Title"] = "Dashboard";
    ViewData["BreadCrum"] = "Dashboard";
}

<div class="row gy-5 g-xl-10">
	<div class="col-sm-6 col-xl-2 mb-xl-10">
		<!--begin::Card widget 2-->
		<div class="card h-lg-100">
			<!--begin::Body-->
			<div class="card-body d-flex justify-content-between align-items-start flex-column">
				<!--begin::Icon-->
				<div class="m-0">
					<i class="ki-duotone ki-abstract-26 fs-2hx text-gray-600">
						<span class="path1"></span>
						<span class="path2"></span>
					</i>
				</div>
				<!--end::Icon-->
				<!--begin::Section-->
				<div class="d-flex flex-column my-7">
					<!--begin::Number-->
					<span id="totalTickets" class="fw-semibold fs-3x text-gray-800 lh-1 ls-n2">100</span>
					<!--end::Number-->
					<!--begin::Follower-->
					<div class="m-0">
						<span class="fw-semibold fs-6 text-gray-400">Total Tickets</span>
					</div>
					<!--end::Follower-->
				</div>
				<!--end::Section-->
			</div>
			<!--end::Body-->
		</div>
		<!--end::Card widget 2-->
	</div>
	<!--begin::Col-->
	<div class="col-sm-6 col-xl-2 mb-xl-10">
		<!--begin::Card widget 2-->
		<div class="card h-lg-100">
			<!--begin::Body-->
			<div class="card-body d-flex justify-content-between align-items-start flex-column">
				<!--begin::Icon-->
				<div class="m-0">
					<i class="ki-duotone ki-compass fs-2hx text-gray-600">
						<span class="path1"></span>
						<span class="path2"></span>
					</i>
				</div>
				<!--end::Icon-->
				<!--begin::Section-->
				<div class="d-flex flex-column my-7">
					<!--begin::Number-->
					<span id="openTickets" class="fw-semibold fs-3x text-gray-800 lh-1 ls-n2">50</span>
					<!--end::Number-->
					<!--begin::Follower-->
					<div class="m-0">
						<span class="fw-semibold fs-6 text-gray-400">Open</span>
					</div>
					<!--end::Follower-->
				</div>
				<!--end::Section-->
			</div>
			<!--end::Body-->
		</div>
		<!--end::Card widget 2-->
	</div>
	<!--end::Col-->
	<!--begin::Col-->
	<div class="col-sm-6 col-xl-2 mb-xl-10">
		<!--begin::Card widget 2-->
		<div class="card h-lg-100">
			<!--begin::Body-->
			<div class="card-body d-flex justify-content-between align-items-start flex-column">
				<!--begin::Icon-->
				<div class="m-0">
					<i class="ki-duotone ki-chart-simple fs-2hx text-gray-600">
						<span class="path1"></span>
						<span class="path2"></span>
						<span class="path3"></span>
						<span class="path4"></span>
					</i>
				</div>
				<!--end::Icon-->
				<!--begin::Section-->
				<div class="d-flex flex-column my-7">
					<!--begin::Number-->
					<span id="inProgressTickets" class="fw-semibold fs-3x text-gray-800 lh-1 ls-n2">20</span>
					<!--end::Number-->
					<!--begin::Follower-->
					<div class="m-0">
						<span class="fw-semibold fs-6 text-gray-400">In Progress</span>
					</div>
					<!--end::Follower-->
				</div>
				<!--end::Section-->
			</div>
			<!--end::Body-->
		</div>
		<!--end::Card widget 2-->
	</div>
	<!--end::Col-->
	<!--begin::Col-->
	<div class="col-sm-6 col-xl-2 mb-xl-10">
		<!--begin::Card widget 2-->
		<div class="card h-lg-100">
			<!--begin::Body-->
			<div class="card-body d-flex justify-content-between align-items-start flex-column">
				<!--begin::Icon-->
				<div class="m-0">
					<i class="ki-duotone ki-abstract-39 fs-2hx text-gray-600">
						<span class="path1"></span>
						<span class="path2"></span>
					</i>
				</div>
				<!--end::Icon-->
				<!--begin::Section-->
				<div class="d-flex flex-column my-7">
					<!--begin::Number-->
					<span id="completedTickets" class="fw-semibold fs-3x text-gray-800 lh-1 ls-n2">30</span>
					<!--end::Number-->
					<!--begin::Follower-->
					<div class="m-0">
						<span class="fw-semibold fs-6 text-gray-400">Completed</span>
					</div>
					<!--end::Follower-->
				</div>
				<!--end::Section-->
			</div>
			<!--end::Body-->
		</div>
		<!--end::Card widget 2-->
	</div>
	<div class="col-sm-6 col-xl-2 mb-xl-10">
		<!--begin::Card widget 2-->
		<div class="card h-lg-100">
			<!--begin::Body-->
			<div class="card-body d-flex justify-content-between align-items-start flex-column">
				<!--begin::Icon-->
				<div class="m-0">
					<i class="ki-duotone ki-abstract-39 fs-2hx text-gray-600">
						<span class="path1"></span>
						<span class="path2"></span>
					</i>
				</div>
				<!--end::Icon-->
				<!--begin::Section-->
				<div class="d-flex flex-column my-7">
					<!--begin::Number-->
					<span id="closedTickets" class="fw-semibold fs-3x text-gray-800 lh-1 ls-n2">30</span>
					<!--end::Number-->
					<!--begin::Follower-->
					<div class="m-0">
						<span class="fw-semibold fs-6 text-gray-400">Closed</span>
					</div>
					<!--end::Follower-->
				</div>
				<!--end::Section-->
			</div>
			<!--end::Body-->
		</div>
		<!--end::Card widget 2-->
	</div>
	<!--end::Col-->
</div>
<div class="row g-5 g-xl-10 mb-5 mb-xl-10">
	<div class="col-xl-4">
		<div class="card card-flush h-100 mb-5 mb-xl-10">
			<div class="card-header pt-7">
				<h3 class="card-title align-items-start flex-column">
					<span class="card-label fw-bold text-dark">Ticket Summary</span>
					<span class="text-gray-400 pt-2 fw-semibold fs-6">Ticket Data</span>
				</h3>
				<div class="card-toolbar">
					<ul class="nav" id="kt_chart_widget_19_tabs">
						<li class="nav-item">
							<a class="nav-link btn btn-sm btn-color-muted btn-active btn-active-light active fw-bold px-4 me-1" data-bs-toggle="tab" id="kt_chart_widget_19_tab_1" href="#kt_chart_widget_19_tab_content_1">2023</a>
						</li>
						<li class="nav-item">
							<a class="nav-link btn btn-sm btn-color-muted btn-active btn-active-light fw-bold px-4" data-bs-toggle="tab" id="kt_chart_widget_19_tab_2" href="#kt_chart_widget_19_tab_content_2">Month</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="card-body pt-0">
				<div class="tab-content">
					<div class="tab-pane fade show active" id="kt_chart_widget_19_tab_content_1">
						<div id="kt_charts_widget_19_chart_1" class="w-100 h-400px mb-13 mt-n4"></div>
					</div>
					<div class="tab-pane fade" id="kt_chart_widget_19_tab_content_2">
						<div id="kt_charts_widget_19_chart_2" class="w-100 h-400px mb-13 mt-n4"></div>
						<div class="m-0">
							<div class="d-flex flex-stack">
								<div class="d-flex align-items-center me-5">
									<img src="assets/media/svg/brand-logos/atica.svg" class="me-4 w-30px" style="border-radius: 4px" alt="" />
									<div class="me-5">
										<a href="#" class="text-gray-800 fw-bold text-hover-primary fs-6">Abstergo Ltd.</a>
										<span class="text-gray-400 fw-semibold fs-7 d-block text-start ps-0">Community</span>
									</div>
								</div>
								<div class="d-flex align-items-center">
									<span class="text-gray-800 fw-bold fs-4 me-3">579</span>
									<div class="m-0">
										<span class="badge badge-light-success fs-base">
											<i class="ki-duotone ki-arrow-up fs-5 text-success ms-n1">
												<span class="path1"></span>
												<span class="path2"></span>
											</i>2.6%
										</span>
									</div>
								</div>
							</div>
							<div class="separator separator-dashed my-4"></div>
							<div class="d-flex flex-stack">
								<div class="d-flex align-items-center me-5">
									<img src="assets/media/svg/brand-logos/telegram-2.svg" class="me-4 w-30px" style="border-radius: 4px" alt="" />
									<div class="me-5">
										<a href="#" class="text-gray-800 fw-bold text-hover-primary fs-6">Binford Ltd.</a>
										<span class="text-gray-400 fw-semibold fs-7 d-block text-start ps-0">Social Media</span>
									</div>
								</div>
								<div class="d-flex align-items-center">
									<span class="text-gray-800 fw-bold fs-4 me-3">2,588</span>
									<div class="m-0">
										<span class="badge badge-light-danger fs-base">
											<i class="ki-duotone ki-arrow-down fs-5 text-danger ms-n1">
												<span class="path1"></span>
												<span class="path2"></span>
											</i>0.4%
										</span>
									</div>
								</div>
							</div>
							<div class="separator separator-dashed my-4"></div>
							<div class="d-flex flex-stack">
								<div class="d-flex align-items-center me-5">
									<img src="assets/media/svg/brand-logos/balloon.svg" class="me-4 w-30px" style="border-radius: 4px" alt="" />
									<div class="me-5">
										<a href="#" class="text-gray-800 fw-bold text-hover-primary fs-6">Barone LLC.</a>
										<span class="text-gray-400 fw-semibold fs-7 d-block text-start ps-0">Messanger</span>
									</div>
								</div>
								<div class="d-flex align-items-center">
									<span class="text-gray-800 fw-bold fs-4 me-3">794</span>
									<div class="m-0">
										<span class="badge badge-light-success fs-base">
											<i class="ki-duotone ki-arrow-up fs-5 text-success ms-n1">
												<span class="path1"></span>
												<span class="path2"></span>
											</i>0.2%
										</span>
									</div>
								</div>
							</div>
							<div class="separator separator-dashed my-4"></div>
							<div class="d-flex flex-stack">
								<div class="d-flex align-items-center me-5">
									<img src="assets/media/svg/brand-logos/kickstarter.svg" class="me-4 w-30px" style="border-radius: 4px" alt="" />
									<div class="me-5">
										<a href="#" class="text-gray-800 fw-bold text-hover-primary fs-6">Abstergo Ltd.</a>
										<span class="text-gray-400 fw-semibold fs-7 d-block text-start ps-0">Video Channel</span>
									</div>
								</div>
								<div class="d-flex align-items-center">
									<span class="text-gray-800 fw-bold fs-4 me-3">1,578</span>
									<div class="m-0">
										<span class="badge badge-light-success fs-base">
											<i class="ki-duotone ki-arrow-up fs-5 text-success ms-n1">
												<span class="path1"></span>
												<span class="path2"></span>
											</i>4.1%
										</span>
									</div>
								</div>
							</div>
							<div class="separator separator-dashed my-4"></div>
							<div class="d-flex flex-stack">
								<div class="d-flex align-items-center me-5">
									<img src="assets/media/svg/brand-logos/vimeo.svg" class="me-4 w-30px" style="border-radius: 4px" alt="" />
									<div class="me-5">
										<a href="#" class="text-gray-800 fw-bold text-hover-primary fs-6">Biffco Enterprises</a>
										<span class="text-gray-400 fw-semibold fs-7 d-block text-start ps-0">Social Network</span>
									</div>
								</div>
								<div class="d-flex align-items-center">
									<span class="text-gray-800 fw-bold fs-4 me-3">3,458</span>
									<div class="m-0">
										<span class="badge badge-light-success fs-base">
											<i class="ki-duotone ki-arrow-up fs-5 text-success ms-n1">
												<span class="path1"></span>
												<span class="path2"></span>
											</i>8.3%
										</span>
									</div>
								</div>
							</div>
							<!--end::Item-->
							<!--begin::Separator-->
							<div class="separator separator-dashed my-4"></div>
							<!--end::Separator-->
							<!--begin::Item-->
							<div class="d-flex flex-stack">
								<!--begin::Section-->
								<div class="d-flex align-items-center me-5">
									<!--begin::Flag-->
									<img src="assets/media/svg/brand-logos/plurk.svg" class="me-4 w-30px" style="border-radius: 4px" alt="" />
									<!--end::Flag-->
									<!--begin::Content-->
									<div class="me-5">
										<!--begin::Title-->
										<a href="#" class="text-gray-800 fw-bold text-hover-primary fs-6">Big Kahuna Burger</a>
										<!--end::Title-->
										<!--begin::Desc-->
										<span class="text-gray-400 fw-semibold fs-7 d-block text-start ps-0">Social Network</span>
										<!--end::Desc-->
									</div>
									<!--end::Content-->
								</div>
								<!--end::Section-->
								<!--begin::Wrapper-->
								<div class="d-flex align-items-center">
									<!--begin::Number-->
									<span class="text-gray-800 fw-bold fs-4 me-3">2,047</span>
									<!--end::Number-->
									<!--begin::Info-->
									<div class="m-0">
										<!--begin::Label-->
										<span class="badge badge-light-success fs-base">
											<i class="ki-duotone ki-arrow-up fs-5 text-success ms-n1">
												<span class="path1"></span>
												<span class="path2"></span>
											</i>1.9%
										</span>
										<!--end::Label-->
									</div>
									<!--end::Info-->
								</div>
								<!--end::Wrapper-->
							</div>
							<!--end::Item-->
						</div>
						<!--end::Items-->
					</div>
					<!--end::Tap pane-->
				</div>
				<!--end::Tab Content-->
			</div>
			<!--end::Body-->
		</div>
		<!--end::Chart widget 19-->
	</div>
	<div class="col-xl-8 mb-xl-10">
		<div class="card card-flush h-xl-50">
			<!--begin::Header-->
			<div class="card-header py-5">
				<!--begin::Title-->
				<h3 class="card-title fw-bold text-gray-800">Monthly Targets</h3>
				<!--end::Title-->
				<!--begin::Toolbar-->
				<div class="card-toolbar">
					<!--begin::Daterangepicker(defined in src/js/layout/app.js)-->
					<div data-kt-daterangepicker="true" data-kt-daterangepicker-opens="left" class="btn btn-sm btn-light d-flex align-items-center px-4">
						<!--begin::Display range-->
						<div class="text-gray-600 fw-bold">Loading date range...</div>
						<!--end::Display range-->
						<i class="ki-duotone ki-calendar-8 fs-1 ms-2 me-0">
							<span class="path1"></span>
							<span class="path2"></span>
							<span class="path3"></span>
							<span class="path4"></span>
							<span class="path5"></span>
							<span class="path6"></span>
						</i>
					</div>
					<!--end::Daterangepicker-->
				</div>
				<!--end::Toolbar-->
			</div>
			<!--end::Header-->
			<!--begin::Card body-->
			<div class="card-body d-flex justify-content-between flex-column pb-0 px-0 pt-1">
				<!--begin::Items-->
				<div class="d-flex flex-wrap d-grid gap-5 px-9 mb-5">
					<!--begin::Item-->
					<div class="me-md-2">
						<!--begin::Statistics-->
						<div class="d-flex mb-2">
							<span class="fs-4 fw-semibold text-gray-400 me-1">$</span>
							<span class="fs-2hx fw-bold text-gray-800 me-2 lh-1 ls-n2">12,706</span>
						</div>
						<!--end::Statistics-->
						<!--begin::Description-->
						<span class="fs-6 fw-semibold text-gray-400">Targets for April</span>
						<!--end::Description-->
					</div>
					<!--end::Item-->
					<!--begin::Item-->
					<div class="border-start-dashed border-end-dashed border-start border-end border-gray-300 px-5 ps-md-10 pe-md-7 me-md-5">
						<!--begin::Statistics-->
						<div class="d-flex mb-2">
							<span class="fs-4 fw-semibold text-gray-400 me-1">$</span>
							<span class="fs-2hx fw-bold text-gray-800 me-2 lh-1 ls-n2">8,035</span>
						</div>
						<!--end::Statistics-->
						<!--begin::Description-->
						<span class="fs-6 fw-semibold text-gray-400">Actual for April</span>
						<!--end::Description-->
					</div>
					<!--end::Item-->
					<!--begin::Item-->
					<div class="m-0">
						<!--begin::Statistics-->
						<div class="d-flex align-items-center mb-2">
							<!--begin::Currency-->
							<span class="fs-4 fw-semibold text-gray-400 align-self-start me-1">$</span>
							<!--end::Currency-->
							<!--begin::Value-->
							<span class="fs-2hx fw-bold text-gray-800 me-2 lh-1 ls-n2">4,684</span>
							<!--end::Value-->
							<!--begin::Label-->
							<span class="badge badge-light-success fs-base">
								<i class="ki-duotone ki-black-up fs-7 text-success ms-n1"></i>4.5%
							</span>
							<!--end::Label-->
						</div>
						<!--end::Statistics-->
						<!--begin::Description-->
						<span class="fs-6 fw-semibold text-gray-400">GAP</span>
						<!--end::Description-->
					</div>
					<!--end::Item-->
				</div>
				<!--end::Items-->
				<!--begin::Chart-->
				<div id="kt_charts_widget_20" class="min-h-auto ps-4 pe-6" data-kt-chart-info="Revenue" style="height: 300px"></div>
				<!--end::Chart-->
			</div>
			<!--end::Card body-->
		</div>
	</div>
</div>
@section Scripts {
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
		$(document).ready(function () {
			$.ajax({
				url: '/api/DashboardApi/GetAllTicketsCountAsync',
				type: 'GET',
				success: function (data) {
					$('#totalTickets').text(data.totalTickets);
					$('#openTickets').text(data.openTickets);
					$('#inProgressTickets').text(data.inProgressTickets);
					$('#completedTickets').text(data.completedTickets);
					$('#closedTickets').text(data.closedTickets);
				},
				error: function (xhr, status, error) {
					console.error("Error fetching ticket counts:", error);
				}
			});
		});
	</script>
}